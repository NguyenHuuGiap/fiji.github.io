<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 336 &ndash; proxy not working for updates</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Other bz_bug_336 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;336</p>
    </td>

    <td id="subtitle">
      <p class="subheader">proxy not working for updates</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2012-01-06 00:21:21 CST</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="336.html"><b>Bug&nbsp;336</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">proxy not working for updates</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>proxy not working for updates
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Other</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P2
       critical
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2011-07-19 19:25 CDT by <span class="vcard"><span class="fn">richard cole</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2012-01-06 00:21 CST 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>0 
          users
        <div id="cc_edit_area">
          <br>
        </div>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    


<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_application_octet-stream">
        <td valign="top">
            <a href="../attach/55/Fiji_Updater.jar"
               title="View the content of the attachment">
          <b>A Fiji Updater that should handle proxies with authentication gracefully</b></a>

          <span class="bz_attach_extra_info">
              (208.46 KB,
                application/octet-stream)

            <br>
            <a href="#attach_55"
               title="Go to the comment associated with the attachment">2011-11-08 01:29 CST</a>,

            <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
          </span>
        </td>


        <td valign="top">
        </td>
      </tr>

  </table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 19:25:18 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I am struggling to get the updater to work,using the proxy settings.  I get a 407 error even with the correct info entered into the proxy dialog.  The imagej updater (Help&gt;Update ImageJ command )does work.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 22:59:12 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Does the same happen to Help&gt;Update Fiji? Is your Fiji up-to-date? What type is your proxy? (I asked at least the last question also in a response to the mail on the ImageJ mailing list...)</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 01:30:30 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c1">comment #1</a>)
<span class="quote">&gt; Does the same happen to Help&gt;Update Fiji? Is your Fiji up-to-date? What type is
&gt; your proxy? (I asked at least the last question also in a response to the mail
&gt; on the ImageJ mailing list...)
&gt; </span >

Sorry about the proxy issue, I had asked our IT dept. to respond. We use a proxy server that require authentication, is that what you are asking? The help&gt;update imageJ works w/the newest daily build of imagej so does the open&gt;sample images. My FIJI is close to up to date, not months old maybe weeks old. </pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-20 10:30:49 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I asked whether the Help&gt;Update Fiji command works not because I wanted you to update, but because I wanted to know whether this is a bug in Fiji or in ImageJ. It appears that Wayne fixed it in the daily builds, so we will get it with the next ImageJ version.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-08-03 14:09:02 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I updated Fiji from outside the proxy, still does not work from behind the proxy:
Redhat Enterprise Linux v5.x:
squid-2.6.STABLE21-6.el5
</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-19 22:02:16 CDT
        </span>
      </div>



<pre class="bz_comment_text" >ImageJ version?</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-19 22:51:59 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c5">comment #5</a>)
<span class="quote">&gt; ImageJ version?
&gt; </span >

1.45r  which I believe is the latest
</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 00:57:30 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Could you please start Fiji from the command-line, passing the &quot;--console&quot; option? I would really need the verbose console output of that error.</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 14:48:20 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c7">comment #7</a>)
<span class="quote">&gt; Could you please start Fiji from the command-line, passing the &quot;--console&quot;
&gt; option? I would really need the verbose console output of that error.
&gt; </span >

is the console option a startup parameter?</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 19:50:26 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Yes, --console is a command-line parameter: fiji.sc/Debugging#Command_line_debugging</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 20:25:51 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c9">comment #9</a>)
<span class="quote">&gt; Yes, --console is a command-line parameter:
&gt; fiji.sc/Debugging#Command_line_debugging
&gt; </span >

C:\Program Files\fiji-win64-20100614\Fiji.app&gt;fiji-win64.exe --console

C:\Program Files\fiji-win64-20100614\Fiji.app&gt;java.io.IOException: Server return
ed HTTP response code: 407 for URL: <a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)

        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct
orAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC
onstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at sun.net.www.protocol.http.HttpURLConnection$6.run(HttpURLConnection.j
ava:1491)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpU
RLConnection.java:1485)
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon
nection.java:1139)
        at fiji.updater.logic.XMLFileDownloader.start(XMLFileDownloader.java:65)

        at fiji.updater.Updater.run(Updater.java:80)
        at ij.IJ.runUserPlugIn(IJ.java:183)
        at ij.IJ.runPlugIn(IJ.java:150)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at ij.Command.runPlugIn(Command.java:146)
        at ij.Command.runCommand(Command.java:95)
        at ij.Executer.run(Executer.java:64)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.IOException: Server returned HTTP response code: 407 for URL:
 <a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a>
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon
nection.java:1436)
        at sun.net.www.protocol.http.HttpURLConnection.getHeaderField(HttpURLCon
nection.java:2304)
        at java.net.HttpURLConnection.getHeaderFieldDate(HttpURLConnection.java:
450)
        at java.net.URLConnection.getLastModified(URLConnection.java:532)
        at fiji.updater.logic.XMLFileDownloader.start(XMLFileDownloader.java:63)

        ... 11 more</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 20:43:44 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Thank you very much. I tried to address the issue and built a new Updater. Please download <a href="http://fiji.sc/snaps/Fiji_Updater.jar">http://fiji.sc/snaps/Fiji_Updater.jar</a> and copy it to C:\Program Files\fiji-win64-20100614\Fiji.app\plugins (overwriting the file of the same name that is already there).

If this turns out to fix the issue, I will upload that version so it will show up as &quot;up-to-date&quot; on your side, too.</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 21:00:15 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c11">comment #11</a>)
<span class="quote">&gt; Thank you very much. I tried to address the issue and built a new Updater.
&gt; Please download <a href="http://fiji.sc/snaps/Fiji_Updater.jar">http://fiji.sc/snaps/Fiji_Updater.jar</a> and copy it to C:\Program
&gt; Files\fiji-win64-20100614\Fiji.app\plugins (overwriting the file of the same
&gt; name that is already there).
&gt; 
&gt; If this turns out to fix the issue, I will upload that version so it will show
&gt; up as &quot;up-to-date&quot; on your side, too.
&gt; </span >

I download and overwrote the file and I get the following

C:\Program Files\fiji-win64-20100614\Fiji.app&gt;fiji-win64.exe --console

C:\Program Files\fiji-win64-20100614\Fiji.app&gt;java.io.IOException: Server return
ed HTTP response code: 407 for URL: <a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a>
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)

        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstruct
orAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingC
onstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at sun.net.www.protocol.http.HttpURLConnection$6.run(HttpURLConnection.j
ava:1491)
        at java.security.AccessController.doPrivileged(Native Method)
        at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpU
RLConnection.java:1485)
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon
nection.java:1139)
        at fiji.updater.logic.XMLFileDownloader.start(XMLFileDownloader.java:66)

        at fiji.updater.Updater.run(Updater.java:80)
        at ij.IJ.runUserPlugIn(IJ.java:183)
        at ij.IJ.runPlugIn(IJ.java:150)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at ij.Command.runPlugIn(Command.java:146)
        at ij.Command.runCommand(Command.java:95)
        at ij.Executer.run(Executer.java:64)
        at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.IOException: Server returned HTTP response code: 407 for URL:
 <a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a>
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon
nection.java:1436)
        at sun.net.www.protocol.http.HttpURLConnection.getHeaderField(HttpURLCon
nection.java:2304)
        at java.net.HttpURLConnection.getHeaderFieldDate(HttpURLConnection.java:
450)
        at java.net.URLConnection.getLastModified(URLConnection.java:532)
        at fiji.updater.logic.XMLFileDownloader.start(XMLFileDownloader.java:64)

        ... 11 more

The imageJ update goes off w/out a hitch, nothing in the console window</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-20 21:28:41 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Okay, next try. I uploaded another version to the same <a href="http://fiji.sc/snaps/Fiji_Updater.jar">http://fiji.sc/snaps/Fiji_Updater.jar</a>. Sorry for the slow progress, it would make it easier if I had a setup which only works with an authenticating proxy, but I don't :-(</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-21 00:04:44 CDT
        </span>
      </div>



<pre class="bz_comment_text" >What I do not understand is that it is a 407, so that would normally mean that it could not authenticate with the proxy. But I do not see any other code in ImageJ to support proxy settings, except server, port, or these system proxy settings. And the system proxy settings should have been used by Fiji already.

Further, even if those settings would not have been used, ImageJ actually sets them globally anyway. So we should inherit them.</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-21 14:53:24 CDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c14">comment #14</a>)
<span class="quote">&gt; What I do not understand is that it is a 407, so that would normally mean that
&gt; it could not authenticate with the proxy. But I do not see any other code in
&gt; ImageJ to support proxy settings, except server, port, or these system proxy
&gt; settings. And the system proxy settings should have been used by Fiji already.
&gt; 
&gt; Further, even if those settings would not have been used, ImageJ actually sets
&gt; them globally anyway. So we should inherit them.
&gt; </span >

This is what is confusing me, ImageJ works w/the proxy setting (as you said they are passed foward) I have set &amp; Fiji updates if not behind a firewall?


</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-21 19:20:18 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Is it possible that your proxy requires no password when surfing to <a href="http://imagej.nih.gov/ij/">http://imagej.nih.gov/ij/</a> but that it does when surfing to <a href="http://fiji.sc/">http://fiji.sc/</a>?

To test, you could run this Beanshell script (File&gt;Script&gt;New, paste the script into the newly opened editor, select Language&gt;Beanshell and then run with Run&gt;Run) and then send back the complete output from the output window in the text editor?

fiji.updater.util.Util.useSystemProxies();
print(&quot;property: &quot; + System.getProperty(&quot;java.net.useSystemProxies&quot;));
url = new URL(&quot;<a href="http://imagej.nih.gov/ij/notes.html">http://imagej.nih.gov/ij/notes.html</a>&quot;);
url.openConnection().getInputStream().close();
print(&quot;Got IJ1 notes&quot;);
url = new URL(&quot;<a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a>&quot;);
url.openConnection().getInputStream().close();
print(&quot;Got Fiji update db&quot;);</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-10-21 22:54:06 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hmpf. I tried to set up something similar to your setup, and using that updater I mentioned earlier works for me.

Just to be extra-sure, I also set the respective Java property already in the Fiji launcher.

So this is my last try until I give up (at least for now):

Please download <a href="http://fiji.sc/snaps/fiji-win64.exe">http://fiji.sc/snaps/fiji-win64.exe</a> and <a href="http://fiji.sc/snaps/Fiji_Updater.jar">http://fiji.sc/snaps/Fiji_Updater.jar</a> and overwrite the respective files in your Fiji.app (the .jar goes into the plugins/ subdirectory). Then restart Fiji and call Help&gt;Update Fiji.

If that does not work, I refer you back to my <a href="#c16">comment #16</a>, as I suspect your proxy to be really selective in that case and allowing to proxy to imagej.nih.gov but not fiji.sc. If that should be the case, there is unfortunately no way I can help since it would be your network administrator who blocked us out explicitly.</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-07 19:42:24 CST
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c17">comment #17</a>)
<span class="quote">&gt; Hmpf. I tried to set up something similar to your setup, and using that updater
&gt; I mentioned earlier works for me.
&gt; 
&gt; Just to be extra-sure, I also set the respective Java property already in the
&gt; Fiji launcher.
&gt; 
&gt; So this is my last try until I give up (at least for now):
&gt; 
&gt; Please download <a href="http://fiji.sc/snaps/fiji-win64.exe">http://fiji.sc/snaps/fiji-win64.exe</a> and
&gt; <a href="http://fiji.sc/snaps/Fiji_Updater.jar">http://fiji.sc/snaps/Fiji_Updater.jar</a> and overwrite the respective files in
&gt; your Fiji.app (the .jar goes into the plugins/ subdirectory). Then restart Fiji
&gt; and call Help&gt;Update Fiji.
&gt; 
&gt; If that does not work, I refer you back to my <a href="#c16">comment #16</a>, as I suspect your
&gt; proxy to be really selective in that case and allowing to proxy to
&gt; imagej.nih.gov but not fiji.sc. If that should be the case, there is
&gt; unfortunately no way I can help since it would be your network administrator
&gt; who blocked us out explicitly.
&gt; </span >

See attached 
Mon Nov  7 12:54:37 2011      4 172.16.2.236 TCP_DENIED/407 566 HEAD
<a href="http://fiji.sc/update/db.xml.gz">http://fiji.sc/update/db.xml.gz</a> - NONE/- text/html

I was never prompted for a user name/password and our poxy require authincation.
any suggestions???</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-08 01:29:27 CST
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="../attach/55/Fiji_Updater.jar" name="attach_55" title="A Fiji Updater that should handle proxies with authentication gracefully">attachment 55</a></span>
A Fiji Updater that should handle proxies with authentication gracefully</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-08 01:32:07 CST
        </span>
      </div>



<pre class="bz_comment_text" >Richard, could you please download the newly attached Fiji_Updater.jar (based on the current 'updater' branch) and drag 'n drop it on the main Fiji window? After a restart, Help&gt;Update Fiji should ask you for credentials when the proxy requires authentication.

I was on the wrong track all the time since you said that ImageJ updates nicely and I assumed that that means that ImageJ has some special handling for authenticating proxies. However, it seems as if your proxy simply does not require authentication for nih.gov, but it does require it for fiji.sc. *sigh*</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-09 14:58:20 CST
        </span>
      </div>



<pre class="bz_comment_text" >It would be really, really nice if this could be tested by the original reporter. I sank a substantial amount of time in trying to solve the issue.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">richard cole</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-11-11 17:15:51 CST
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="#c21">comment #21</a>)
<span class="quote">&gt; It would be really, really nice if this could be tested by the original
&gt; reporter. I sank a substantial amount of time in trying to solve the issue.
&gt; </span >

Sorry for the delay in responding ( attending a meeting) and some of the ambiquity in this bug. I know that I speak not only for my self but many other users when I say &quot;thanks&quot;.  The latest ideration works great!</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
