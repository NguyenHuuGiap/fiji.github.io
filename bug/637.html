<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 637 &ndash; Directionality tool problem. Failure to set the Histogram start option. Always result relative to 0º from original picture.</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Plugins bz_bug_637 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;637</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Directionality tool problem. Failure to set the Histogram start option. Always result relative to 0º from original picture.</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2014-06-16 16:41:52 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="637.html"><b>Bug&nbsp;637</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Directionality tool problem. Failure to set the Histogram start option. Always result relative to 0º from original picture.</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td><span title="Directionality tool problem. Failure to set the Histogram start option. Always result relative to 0º from original picture.">Directionality tool problem. Failure to set the Histogram start option. Alway...
        </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          INVALID
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Plugins</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Macintosh
       Mac OS
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P5
       critical
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Jean-Yves Tinevez</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2013-07-18 10:27 CDT by <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-06-16 16:41 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>2 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="ctrueden">ctrueden</option>
                <option value="jeanyves.tinevez">jeanyves.tinevez</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    


<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_image_png">
        <td valign="top">
            <a href="../attach/110/refence 65 degrees (signal direction expected perpendicular to 65 degrees).png"
               title="View the content of the attachment">
          <b>Result for Directionality Analysis in which the peak should be 90ºC</b></a>

          <span class="bz_attach_extra_info">
              (13.74 KB,
                image/png)

            <br>
            <a href="#attach_110"
               title="Go to the comment associated with the attachment">2013-07-18 10:28 CDT</a>,

            <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
          </span>
        </td>


        <td valign="top">
        </td>
      </tr>

  </table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-18 10:27:48 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Problem found in FIJI Directionality tool (Analysis&gt;Directionality)

This tool allows to set a reference angle to measure the average direction of the signal in a picture. The option is &quot;Histogram Start&quot;.

The Fiji version that was available to be downloaded in March was working OK. The problem appear afterwards with an automatic update and is also present in the newest version.

Bug Description:

The average angle returned by the Directionaly tool is always using as a reference the 0º even though I modify the option &quot;Histogram Start&quot; different from 0º value. No matter which is the angle for the Histogram Start always the peak of the gaussian will have the direction relative to 0ºC (the 0ºc from the picture).

Please see the attached file: That's a result in which the peak of the gaussian should be around 90ºC since I set the histogram start option to give that result. However, the histogram is still returning the peak direction from the 0ºC reference.

Please do contact me for further details. I hope I was more or less clear.</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-18 10:28:39 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="../attach/110/refence 65 degrees (signal direction expected perpendicular to 65 degrees).png" name="attach_110" title="Result for Directionality Analysis in which the peak should be 90ºC">attachment 110</a></span>
Result for Directionality Analysis in which the peak should be 90ºC</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jean-Yves Tinevez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-18 11:07:16 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Juan, thanks for the report.

It seems that either I do not understand the bug description, either what you are describing is not a bug. 

The histogram start is just for plotting. It does not change the histogram content. If you have a peak at 50º, it will always be at 50º in the histogram, wherever you put its start. Well actually it may wrap by 180º but anyway. The histogram start is no a reference, it is a convenience settings to put peaks at the center of the histogram, even if they are far from 0º.

Did I get what you mean correctly?
Best
jy</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-18 12:18:04 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Dear Jean-Yves,

Thank you very much for your answer!

The problem is as you mention, for plotting but also for returning the result.

When I started using this tool, if I was changing the Histogram start value, the result was plotted relative to the angle I set up as starting point.

If you check the graphic I uploaded in my bug description, you'll see that the peak in that graph is in 160 (aprox.), however, I set up the histogram start to give that peak in 90. This means that in the plot, it should write in the x axis 90º where the peak is. However, even though I change the Histogram start value (from 0º) the peak is fixed in 160º. And that is not correct (and was not like this before). Moreover, changing the Histogram start, should return a different value in the peak. Eg: Assume for a second that the plot I uploaded is correct and the peak is in 160º (it should be written 90 insted, remember?). If know I analyse the directionality again, but setting the Histogram start as 160º the peak should be in 0º. But that is not happening. The plot will be rearranged like it would look like with that Histogram start, but the x axis will still state that the maximum is in 0.

We can skype if you want and explain you in more detail.

I hope I was clear this time!</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Juan Manuel Gomez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-18 12:20:38 CDT
        </span>
      </div>



<pre class="bz_comment_text" >correction on my last sentence:

(...) but the x axis will still state that the maximum is in 160.</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jean-Yves Tinevez</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-10-16 02:44:09 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Juan

I gave some thought about your report. 
And to be honest what you are reporting is not a bug, and the behavior you describe is the expected one. 

Changing the start point of the histogram simply shifts the plot. It does not change the content. For instance if you have a peak at 0º, and if you set the histogram start at -90º (the default btw), the x-axis of the histogram will range from -90º to 90º, and the peak will be displayed - as expected - at 0º.

If you now set the start to -45º, the results will be the same, but the plot will range from -45º to 135º. But of course you expect the peak to be still at 0º. 

Changing the start value just change the display of the histogram, b not its content. 

If this is really what you meant, I would like to close this issue.

best
jy</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-16 16:41:52 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Closing due to lack of feedback.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
