<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 512 &ndash; Since today updates(2012_10_12) Bio-Formats can not import CZI files any more</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Bio-Formats bz_bug_512 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;512</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Since today updates(2012_10_12) Bio-Formats can not import CZI files any more</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2012-11-08 17:01:21 CST</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="512.html"><b>Bug&nbsp;512</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Since today updates(2012_10_12) Bio-Formats can not import CZI files any more</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>Since today updates(2012_10_12) Bio-Formats can not import CZI files any more
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Bio-Formats</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P2
       critical
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Melissa Linkert</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2012-10-12 14:47 CDT by <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2012-11-08 17:01 CST 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>3 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="ctrueden">ctrueden</option>
                <option value="johannes.schindelin">johannes.schindelin</option>
                <option value="sebrhode">sebrhode</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    



  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-12 14:47:27 CDT
        </span>
      </div>



<pre class="bz_comment_text" >HI,

2 days ago there was problem for Fiji to import CZI files (from the Zen Software). Today I updated my Fiji and tries again ...

Here are 2 links to sample files:

2-Channels, 15 Time Points, 20 Z-Slices: <a href="http://dl.dropbox.com/u/623476/HeLa-Reggie-GFP_ZT_fast2_bin-CI-measured-PSF.czi">http://dl.dropbox.com/u/623476/HeLa-Reggie-GFP_ZT_fast2_bin-CI-measured-PSF.czi</a>

1 simple image: <a href="http://dl.dropbox.com/u/623476/Count_Cells_DAPI_Snap.czi">http://dl.dropbox.com/u/623476/Count_Cells_DAPI_Snap.czi</a>

I hope this helps you to sort out the problem.

Cheers,

Sebi




java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at ij.Command.runPlugIn(Command.java:146)
	at ij.Command.runCommand(Command.java:95)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.NoSuchFieldError: datasetDescription
	at loci.formats.in.DeltavisionReader.&lt;init&gt;(DeltavisionReader.java:125)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at java.lang.Class.newInstance0(Class.java:355)
	at java.lang.Class.newInstance(Class.java:308)
	at loci.formats.ImageReader.&lt;init&gt;(ImageReader.java:120)
	at loci.plugins.util.LociPrefs.makeImageReader(LociPrefs.java:84)
	at loci.plugins.in.ImportProcess.createBaseReader(ImportProcess.java:591)
	at loci.plugins.in.ImportProcess.initializeReader(ImportProcess.java:472)
	at loci.plugins.in.ImportProcess.execute(ImportProcess.java:142)
	at loci.plugins.in.Importer.showDialogs(Importer.java:141)
	at loci.plugins.in.Importer.run(Importer.java:79)
	at loci.plugins.LociImporter.run(LociImporter.java:81)
	at ij.IJ.runUserPlugIn(IJ.java:185)
	at ij.IJ.runPlugIn(IJ.java:152)
	... 8 more</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 17:17:35 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I tried to find the problem, but I have really no idea , what is going on.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 17:22:09 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I did more tests. On a similar PC from my college (Win7 64bit) we still have an version of Fiji, where I did not apply the updates. There the CZI import via BioFormats works fine.
So I copied the complete folder to my PC and started the &quot;working&quot; Fiji. But again I ran into errors ...

Any idea what to do about this?

java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at ij.Command.runPlugIn(Command.java:146)
	at ij.Command.runCommand(Command.java:95)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:417)
	at java.lang.Integer.valueOf(Integer.java:554)
	at ome.xml.model.primitives.NonNegativeInteger.valueOf(NonNegativeInteger.java:68)
	at loci.formats.in.ZeissCZIReader.translateInformation(ZeissCZIReader.java:824)
	at loci.formats.in.ZeissCZIReader.translateMetadata(ZeissCZIReader.java:519)
	at loci.formats.in.ZeissCZIReader.initFile(ZeissCZIReader.java:255)
	at loci.formats.FormatReader.setId(FormatReader.java:1105)
	at loci.plugins.in.ImportProcess.initializeFile(ImportProcess.java:482)
	at loci.plugins.in.ImportProcess.execute(ImportProcess.java:146)
	at loci.plugins.in.Importer.showDialogs(Importer.java:141)
	at loci.plugins.in.Importer.run(Importer.java:79)
	at loci.plugins.LociImporter.run(LociImporter.java:81)
	at ij.IJ.runUserPlugIn(IJ.java:185)
	at ij.IJ.runPlugIn(IJ.java:152)
	... 8 more</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 19:51:37 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I could not reproduce this problem on my OS X 10.6 system with a fully up-to-date Fiji.

And on Windows 7 64-bit with a fully up-to-date Fiji, I encounter a different error:

<span class="quote">&gt; Exception in thread &quot;main&quot; java.io.IOException: The parameter is incorrect
&gt;         at sun.nio.ch.FileDispatcher.pread0(Native Method)
&gt;         at sun.nio.ch.FileDispatcher.pread(Unknown Source)
&gt;         at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)
&gt;         at sun.nio.ch.IOUtil.read(Unknown Source)
&gt;         at sun.nio.ch.FileChannelImpl.read(Unknown Source)
&gt;         at ome.scifio.io.NIOByteBufferProvider.allocateDirect(NIOByteBufferProvi
&gt; der.java:133)
&gt;         at ome.scifio.io.NIOByteBufferProvider.allocate(NIOByteBufferProvider.ja
&gt; va:118)
&gt;         at ome.scifio.io.NIOFileHandle.buffer(NIOFileHandle.java:535)
&gt;         at ome.scifio.io.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:133)
&gt;         at ome.scifio.io.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:141)
&gt;         at ome.scifio.io.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:150)
&gt;         at ome.scifio.io.Location.getHandle(Location.java:309)
&gt;         at ome.scifio.io.Location.getHandle(Location.java:280)
&gt;         at ome.scifio.io.Location.getHandle(Location.java:270)
&gt;         at ome.scifio.io.Location.checkValidId(Location.java:333)
&gt;         at loci.common.Location.checkValidId(Location.java:243)
&gt;         at loci.formats.ImageReader.getReader(ImageReader.java:177)
&gt;         at loci.formats.ImageReader.getFormat(ImageReader.java:159)
&gt;         at loci.formats.tools.ImageInfo.configureReaderPreInit(ImageInfo.java:40
&gt; 2)
&gt;         at loci.formats.tools.ImageInfo.testRead(ImageInfo.java:999)
&gt;         at loci.formats.tools.ImageInfo.main(ImageInfo.java:1048)</span >

Or with -DmappedBuffers=true:

<span class="quote">&gt; Exception in thread &quot;main&quot; java.io.IOException: The parameter is incorrect
&gt;         at sun.nio.ch.FileDispatcher.read0(Native Method)
&gt;         at sun.nio.ch.FileDispatcher.read(Unknown Source)
&gt;         at sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)
&gt;         at sun.nio.ch.IOUtil.read(Unknown Source)
&gt;         at sun.nio.ch.FileChannelImpl.read(Unknown Source)
&gt;         at ome.scifio.io.NIOFileHandle.read(NIOFileHandle.java:245)
&gt;         at ome.scifio.io.NIOFileHandle.read(NIOFileHandle.java:237)
&gt;         at ome.scifio.io.NIOFileHandle.read(NIOFileHandle.java:227)
&gt;         at ome.scifio.io.NIOFileHandle.readFully(NIOFileHandle.java:319)
&gt;         at ome.scifio.io.RandomAccessInputStream.readFully(RandomAccessInputStre
&gt; am.java:449)
&gt;         at ome.scifio.io.RandomAccessInputStream.readString(RandomAccessInputStr
&gt; eam.java:385)
&gt;         at loci.common.RandomAccessInputStream.readString(RandomAccessInputStrea
&gt; m.java:265)
&gt;         at loci.formats.in.ZeissCZIReader.readSegment(ZeissCZIReader.java:1628)
&gt;         at loci.formats.in.ZeissCZIReader.initFile(ZeissCZIReader.java:372)
&gt;         at loci.formats.FormatReader.setId(FormatReader.java:1178)
&gt;         at loci.formats.ImageReader.setId(ImageReader.java:729)
&gt;         at loci.formats.ReaderWrapper.setId(ReaderWrapper.java:530)
&gt;         at loci.formats.tools.ImageInfo.testRead(ImageInfo.java:1003)
&gt;         at loci.formats.tools.ImageInfo.main(ImageInfo.java:1048)</span >

The errors above are with CZI files provided by Sebastian. I also tested with a JPEG file and it worked as expected.

Melissa, any ideas?</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 21:47:06 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi guys,

I just checked the problem at home, where I use Windows Vista 32bit. I updated Fiji and tried to open one of the CZI files using the BioFormats importer. And I worked just fine ....
So I start to think, this problem has to do (at least partially) with the PC environment, which sounds strange to me.
What kind on info or system data of my PC at work could help you to pin down this problem?

Cheers,  Sebi</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 22:01:17 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I investigated further, and noticed that my error &quot;The parameter is incorrect&quot; occurs whenever I try to read from a VirtualBox shared folder, even outside of Java. So Java is just passing along an OS-specific error message, probably a bug in VirtualBox. So my error report can be disregarded; once I copied the file to the local hard drive, it opened as expected.

Sebastian, to me your error messages appears like a not-totally-up-to-date Fiji installation. One thing you can check in Fiji is whether you have any files that are &quot;locally modified&quot;: Help &gt; Update Fiji &gt; Advanced mode, then &quot;View locally modified files only&quot;. Ideally you shouldn't have any, especially .jar files. Other than that, I am not really sure what could be going on.</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 22:30:43 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Chris,

OK, I will check this again. But what puzzels me, is the behavior I described in <a href="#c2">comment 2</a>. On my collegues PC it works fine (even the fiji there has not the latest updates). So I thought, well I just copy this folder to my PC and can continue working until you hopefully sorted out the problem.

But the excat same folder copied to my PC does not work. I can not import CZI files and get errors ...

Does this make sense to you?

Sebi</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-15 22:58:43 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Guys,

In <a href="#c4">comment 4</a> I wrote my Fiji at home is fine, which is true (it is up-to-date and no locally modified files). And I also wrote about the Fiji folder from my colleague, which work at work, which was not up-to date, but worked.
This one I copied to my USB stick- I plugged the stick to my PC and tried the import. It does not work (errors below).

But after the update, this problem is gone.So a Fiji which was not up-to-date did:
- work for my colleague on his machine
- did not work at my machine at work
- my up-to-date Fiji at work could not import the CZI
- my colleague´s Fiji did not work on PC at home
- after I updated my collegaue Fiji at home it works for me at home - no more errors

So does this makes sense? The only place where it will not work at all seems to be my machine at work. But I have no clue why.

Sebi


java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at ij.Command.runPlugIn(Command.java:146)
	at ij.Command.runCommand(Command.java:95)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:417)
	at java.lang.Integer.valueOf(Integer.java:554)
	at ome.xml.model.primitives.NonNegativeInteger.valueOf(NonNegativeInteger.java:68)
	at loci.formats.in.ZeissCZIReader.translateInformation(ZeissCZIReader.java:824)
	at loci.formats.in.ZeissCZIReader.translateMetadata(ZeissCZIReader.java:519)
	at loci.formats.in.ZeissCZIReader.initFile(ZeissCZIReader.java:255)
	at loci.formats.FormatReader.setId(FormatReader.java:1105)
	at loci.plugins.in.ImportProcess.initializeFile(ImportProcess.java:482)
	at loci.plugins.in.ImportProcess.execute(ImportProcess.java:146)
	at loci.plugins.in.Importer.showDialogs(Importer.java:141)
	at loci.plugins.in.Importer.run(Importer.java:79)
	at loci.plugins.LociImporter.run(LociImporter.java:81)
	at ij.IJ.runUserPlugIn(IJ.java:185)
	at ij.IJ.runPlugIn(IJ.java:152)
	... 8 more</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-16 08:49:13 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi guys,

so more strange facts. I copied the working Fiji to my USB at tries to read an OME-TIFF (not even an CZI) at work again. It did not work and I got the following error, which look different to the errors I have seen before.

Sebi

java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at ij.Command.runPlugIn(Command.java:146)
	at ij.Command.runCommand(Command.java:95)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.NoSuchMethodError: ome.xml.model.Image.setAcquiredDate(Ljava/lang/String;)V
	at loci.formats.ome.OMEXMLMetadataImpl.setImageAcquiredDate(OMEXMLMetadataImpl.java:8112)
	at loci.formats.meta.FilterMetadata.setImageAcquiredDate(FilterMetadata.java:1223)
	at loci.formats.MetadataTools.setDefaultCreationDate(MetadataTools.java:317)
	at loci.formats.MetadataTools.populateMetadata(MetadataTools.java:191)
	at loci.formats.MetadataTools.populatePixels(MetadataTools.java:121)
	at loci.formats.MetadataTools.populatePixels(MetadataTools.java:85)
	at loci.formats.in.BaseTiffReader.initMetadataStore(BaseTiffReader.java:392)
	at loci.formats.in.TiffReader.initMetadataStore(TiffReader.java:210)
	at loci.formats.in.BaseTiffReader.initMetadata(BaseTiffReader.java:84)
	at loci.formats.in.BaseTiffReader.initFile(BaseTiffReader.java:502)
	at loci.formats.FormatReader.setId(FormatReader.java:1072)
	at loci.formats.DelegateReader.setId(DelegateReader.java:232)
	at loci.plugins.in.ImportProcess.initializeFile(ImportProcess.java:482)
	at loci.plugins.in.ImportProcess.execute(ImportProcess.java:146)
	at loci.plugins.in.Importer.showDialogs(Importer.java:141)
	at loci.plugins.in.Importer.run(Importer.java:79)
	at loci.plugins.LociImporter.run(LociImporter.java:81)
	at ij.IJ.runUserPlugIn(IJ.java:185)
	at ij.IJ.runPlugIn(IJ.java:152)
	... 8 more</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-16 09:05:47 CDT
        </span>
      </div>



<pre class="bz_comment_text" >What I also tried is to update LOCI to the trunk build, daily build and finally to the stable 4.4.4 build (since I a bit desperate). Here I got in all cases:

java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at ij.Command.runPlugIn(Command.java:146)
	at ij.Command.runCommand(Command.java:95)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.NullPointerException
	at java.io.File.&lt;init&gt;(File.java:222)
	at loci.formats.UpgradeChecker.install(UpgradeChecker.java:341)
	at loci.plugins.Updater.install(Updater.java:118)
	at loci.plugins.Updater.run(Updater.java:94)
	at ij.IJ.runUserPlugIn(IJ.java:185)
	at ij.IJ.runPlugIn(IJ.java:152)
	... 8 more</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-16 09:37:54 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I strongly suspect local-only files to be present (check in Updater's advanced mode), maybe even a stale plugins/loci_tools.jar.</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-17 09:01:41 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi,

I checked again, if there where any locally modified files in place, but the updater did not show any.

So I downloaded the last Fiji release again and did all the updates. And this works, I can import OME-TIFF and CZI again.
And I tried what happens, if I copy the additional files from my old Fiji folder (plugins &amp; macros) to the fresh one. And this got me back to the same errors as before. But since this are quite many files, I do not know, which of them is really responsible for the problem.

So I will will use the fresh Fiji with all updates and copy my old additional files only to the new folder, as I really need it. And if I notice the error reappear again, I can sent you a message.

But from my side it would be OK to close this bug, since it only seems to affect me, for whatever reason ...

But thanks a lot for your help,

Cheers, Sebi</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-10-17 15:57:52 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Sorry, I was not quite clear. What I meant is: &quot;local-only&quot;, not &quot;locally-modified&quot;. The difference is that &quot;local-only&quot; files are not known to the updater, but &quot;locally-modified&quot; ones are known (just not any version the updater knows about).</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Sebastian Rhode</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-08 10:04:36 CST
        </span>
      </div>



<pre class="bz_comment_text" >Hi,

this works for me now for at least two weeks. So in my opinion, you can close this one since it was really only a problem on one machine.

Sebastian</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2012-11-08 17:01:21 CST
        </span>
      </div>



<pre class="bz_comment_text" >Glad to hear it, thanks Sebastian.</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
