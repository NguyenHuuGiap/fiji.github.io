<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 628 &ndash; cannot build fiji on linux</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Other bz_bug_628 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;628</p>
    </td>

    <td id="subtitle">
      <p class="subheader">cannot build fiji on linux</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2013-07-10 11:44:20 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="628.html"><b>Bug&nbsp;628</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">cannot build fiji on linux</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>cannot build fiji on linux
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Other</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">Other
       Linux
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P5
       critical
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">ImageJ Bugs Mailing List</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2013-07-06 07:33 CDT by <span class="vcard"><span class="fn">Olex</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2013-07-10 11:44 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>2 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="ctrueden">ctrueden</option>
                <option value="johannes.schindelin">johannes.schindelin</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    


<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_image_png">
        <td valign="top">
            <a href="../attach/107/screenshot-build-windows.png"
               title="View the content of the attachment">
          <b>Screenshot building on Windows</b></a>

          <span class="bz_attach_extra_info">
              (23.26 KB,
                image/png)

            <br>
            <a href="#attach_107"
               title="Go to the comment associated with the attachment">2013-07-08 16:32 CDT</a>,

            <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
          </span>
        </td>


        <td valign="top">
        </td>
      </tr>

  </table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-06 07:33:12 CDT
        </span>
      </div>



<pre class="bz_comment_text" >When trying to build fiji with the command: &quot;./Build.sh&quot; or &quot;./Build.sh mics/headless.jar&quot;, I get the same error: 

Compiling 1 files in /ifs/home/oo370/fiji/src-plugins/CPU_Meter
error: error reading /ifs/home/oo370/.m2/repository/net/java/dev/jna/jna/3.2.7/jna-3.2.7.jar; error in opening zip file
1 error
Exception in thread &quot;main&quot; imagej.build.minimaven.JavaCompiler$CompileError: Compile error: 1
        at imagej.build.minimaven.JavaCompiler.call(JavaCompiler.java:83)
        at imagej.build.minimaven.MavenProject.build(MavenProject.java:444)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:332)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:327)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:327)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:289)
        at imagej.build.MiniMaven.main(MiniMaven.java:138)</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-06 11:51:30 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Looks like jna could not be downloaded properly. Have you had a look whether the file specified can be opened as a .zip? If not, delete it and try again. MiniMaven should try to download it again, hopefully succeeding this time.</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-06 21:10:17 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I tried to manually unzip .jar file using java, but it gave me error also. 
When I deleted problematic .jar file, and tried to built fiji again, the program was stuck after these two lines: 

Looking at children of pom-fiji
Looking at children of pom-fiji-plugins</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 09:06:06 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Could you please clarify what you mean by &quot;stalled&quot;? Does it exit without further notice? Does it hang, possibly using a lot of CPU? What does &quot;./Build.sh verbose=true&quot; say?</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 10:23:45 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I apologize for being vague there. By &quot;stuck&quot; I mean that the command line doesn't not quit and it doesn't print anything, and doesn't give any errors, it is stuck on a new line. Unfortunately, I do not know how to check CPU usage on the cluster.

When I tried &quot;./Build.sh verbose=true&quot;: 

Parsing /ifs/home/oo370/.m2/repository/org/scijava/pom-scijava/1.51/pom-scijava-Looking at children of pom-fiji
Looking at children of pom-fiji-plugins
Parsing /ifs/home/oo370/.m2/repository/com/apple/AppleJavaExtensions/1.5/AppleJaSkipping artifact com.sun:tools:1.4.2 (for net.imagej:ij:1.47t): not found
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/mpicbg-0.6.0Parsing /ifs/home/oo370/.m2/repository/mpicbg/pom-mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/pom-mpicbg/0.6.0-SNAPSHOT/pom-mpicParsing /ifs/home/oo370/.m2/repository/loci/pom-scifio/4.4.8/pom-scifio-4.4.8.poParsing /ifs/home/oo370/.m2/repository/loci/jai_imageio/4.4.8/jai_imageio-4.4.8.Parsing /ifs/home/oo370/.m2/repository/loci/loci-common/4.4.8/loci-common-4.4.8.Parsing /ifs/home/oo370/.m2/repository/org/slf4j/slf4j-api/1.5.10/slf4j-api-1.5.Parsing /ifs/home/oo370/.m2/repository/org/slf4j/slf4j-parent/1.5.10/slf4j-parenParsing /ifs/home/oo370/.m2/repository/xalan/serializer/2.7.1/serializer-2.7.1.pParsing /ifs/home/oo370/.m2/repository/xml-apis/xml-apis/1.3.04/xml-apis-1.3.04.Parsing /ifs/home/oo370/.m2/repository/edu/mines/mines-jtk/20100113/mines-jtk-20Parsing /ifs/home/oo370/.m2/repository/org/jfree/jcommon/1.0.17/jcommon-1.0.17.pParsing /ifs/home/oo370/.m2/repository/org/sonatype/oss/oss-parent/7/oss-parent-Parsing /ifs/home/oo370/.m2/repository/org/jfree/jfreechart/1.0.14/jfreechart-1.Parsing /ifs/home/oo370/.m2/repository/javax/servlet/servlet-api/2.5/servlet-apiParsing /ifs/home/oo370/.m2/repository/bouncycastle/bcmail-jdk14/138/bcmail-jdk1Parsing /ifs/home/oo370/.m2/repository/bouncycastle/bcprov-jdk14/138/bcprov-jdk1Parsing /ifs/home/oo370/.m2/repository/net/imglib2/imglib2-algorithms/2.0.0-betaParsing /ifs/home/oo370/.m2/repository/net/imglib2/pom-imglib2-algorithms/2.0.0-Parsing /ifs/home/oo370/.m2/repository/net/imglib2/pom-imglib2/2.0.0-beta-9/pom-Parsing /ifs/home/oo370/.m2/repository/net/imglib2/imglib2/2.0.0-beta-9/imglib2-Parsing /ifs/home/oo370/.m2/repository/net/imglib2/imglib2-ij/2.0.0-beta-9/imgliParsing /ifs/home/oo370/.m2/repository/java3d/j3d-core-utils/1.5.2/j3d-core-utilParsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/mpicbg/mpicbg/0.6.0-SNAPSHOT/maven-metadata-snapshot.xml
Parsing /ifs/home/oo370/.m2/repository/org/beanshell/beanshell/2.0b4/beanshell-2Parsing /ifs/home/oo370/.m2/repository/org/javassist/javassist/3.16.1-GA/javassiSkipping artifact com.sun:tools:1.6.0_24 (for org.javassist:javassist:3.16.1-GA): not found
Parsing /ifs/home/oo370/.m2/repository/org/scijava/scijava-common/1.4.0/scijava-Parsing /ifs/home/oo370/.m2/repository/net/java/sezpoz/sezpoz/1.9-imagej/sezpoz-Parsing /ifs/home/oo370/.m2/repository/net/java/sezpoz/pom/1.9-imagej/pom-1.9-imParsing /ifs/home/oo370/.m2/repository/net/imagej/ij-updater-core/2.0.0-beta-7/iParsing /ifs/home/oo370/.m2/repository/net/imagej/pom-ij-core/2.0.0-beta-7/pom-iParsing /ifs/home/oo370/.m2/repository/net/imagej/pom-ij-base/2.0.0-beta-7/pom-iParsing /ifs/home/oo370/.m2/repository/net/imagej/ij-core/2.0.0-beta-7/ij-core-2Parsing /ifs/home/oo370/.m2/repository/net/imagej/ij-ui-swing-updater/2.0.0-betaParsing /ifs/home/oo370/.m2/repository/net/imagej/pom-ij-ui-swing/2.0.0-beta-7/pParsing /ifs/home/oo370/.m2/repository/net/imagej/pom-ij-ui/2.0.0-beta-7/pom-ij-Parsing /ifs/home/oo370/.m2/repository/com/miglayout/miglayout/3.7.3.1/miglayoutCPU_Meter not up-to-date because 1 source files are not up-to-date (/ifs/home/oo370/fiji/src-plugins/CPU_Meter/src/main/java/CPU_Meter.java)
Compiling 1 files in /ifs/home/oo370/fiji/src-plugins/CPU_Meter
[-source, 1.5, -target, 1.5, -classpath, /ifs/home/oo370/fiji/src-plugins/CPU_Meter/target/classes:/ifs/home/oo370/.m2/repository/com/apple/AppleJavaExtensions/1.5/AppleJavaExtensions-1.5.jar:/ifs/home/oo370/.m2/repository/net/imagej/ij/1.47t/ij-1.47t.jar:/ifs/home/oo370/.m2/repository/net/java/dev/jna/jna/3.2.7/jna-3.2.7.jar:/ifs/home/oo370/fiji/java/linux-amd64/jdk1.6.0_24/jre/../lib/tools.jar, -d, /ifs/home/oo370/fiji/src-plugins/CPU_Meter/target/classes, /ifs/home/oo370/fiji/src-plugins/CPU_Meter/src/main/java/CPU_Meter.java]
using the class path: /ifs/home/oo370/fiji/src-plugins/CPU_Meter/target/classes:/ifs/home/oo370/.m2/repository/com/apple/AppleJavaExtensions/1.5/AppleJavaExtensions-1.5.jar:/ifs/home/oo370/.m2/repository/net/imagej/ij/1.47t/ij-1.47t.jar:/ifs/home/oo370/.m2/repository/net/java/dev/jna/jna/3.2.7/jna-3.2.7.jar:/ifs/home/oo370/fiji/java/linux-amd64/jdk1.6.0_24/jre/../lib/tools.jar
error: error reading /ifs/home/oo370/.m2/repository/net/java/dev/jna/jna/3.2.7/jna-3.2.7.jar; error in opening zip file
1 error
Exception in thread &quot;main&quot; imagej.build.minimaven.JavaCompiler$CompileError: Compile error: 1
        at imagej.build.minimaven.JavaCompiler.call(JavaCompiler.java:83)
        at imagej.build.minimaven.MavenProject.build(MavenProject.java:444)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:332)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:327)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:327)
        at imagej.build.minimaven.MavenProject.buildAndInstall(MavenProject.java:289)
        at imagej.build.MiniMaven.main(MiniMaven.java:138)</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 10:43:38 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Is it possible that your cluster does not allow you to access the world wide web? The hang appears to be when MiniMaven tries to download jna... when you interrupted, it left an invalid .jar in the file system.

FTR you can check the CPU usage on a Linux cluster using &quot;top&quot; and on a MacOSX cluster using &quot;top -u&quot;.

Also: why are you compiling on the cluster? Why not compile locally, use the &quot;Make Fiji Package&quot; command to make a .zip and unpack that on the cluster?</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 10:58:34 CDT
        </span>
      </div>



<pre class="bz_comment_text" >The cluster should allow me to access the WWW since I got .m2 folder somehow. And if I delete it, Build.sh would load it again. I also cloned fiji from github through the command line. 

I am using PC and access cluster remotely. Will a be able to compile and make fiji package on my PC?</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 11:20:14 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Could the error be due to the javassist? 

Parsing /ifs/home/oo370/.m2/repository/org/javassist/javassist/3.16.1-GA/javassiSkipping artifact com.sun:tools:1.6.0_24 (for org.javassist:javassist:3.16.1-GA): not found</pre>
    </div><div id="c8" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c8">Comment 8</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 12:13:51 CDT
        </span>
      </div>



<pre class="bz_comment_text" >About WWW: Fair enough, but you got an invalid jna .jar file twice in a row now.

Yes, of course you can compile on a PC and run on a cluster, the major advantage of Java over pretty much everything else (including Python, because to make it fast, you still have to compile native code) is that you indeed can compile once and then run everywhere. The identical compiled code runs on all platforms on which you have Java.

The message &quot;Skipping artifact com.sun:tools:1.6.0_24&quot; BTW just says that MiniMaven failed to realize that tools is supposed to be a system dependency, i.e. it should expect that dependency in the JDK itself and not download it. (Eventually I will come around to fix it, but this is a non-fatal bug and I'd rather fix some fatal bugs before going into the beauty business).</pre>
    </div><div id="c9" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c9">Comment 9</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 14:14:34 CDT
        </span>
      </div>



<pre class="bz_comment_text" >In order to compile it locally I assume I would need source code and also Eclipse SDK. I could not find the source code. Could you help me with it?</pre>
    </div><div id="c10" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c10">Comment 10</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-07 14:19:36 CDT
        </span>
      </div>



<pre class="bz_comment_text" >In order to compile it locally I assume I would need source code and also Eclipse SDK. I could not find the source code. Could you help me with it?</pre>
    </div><div id="c11" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c11">Comment 11</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 09:17:04 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Never mind <a href="#c9">comment #9</a> and #10. I just got a little bit confused. 
If I use javac to compile code locally, and use cmd, which file/folder I should compile?</pre>
    </div><div id="c12" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c12">Comment 12</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 11:24:45 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Why not try to use ./Build.sh? Since you probably cloned using Git for Windows, you have a perfectly fine Git Bash to use.</pre>
    </div><div id="c13" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c13">Comment 13</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 11:29:02 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I get an error: 

'.' is not recognized as internal or external command, operable program or batch file.</pre>
    </div><div id="c14" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c14">Comment 14</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 11:51:22 CDT
        </span>
      </div>



<pre class="bz_comment_text" >&quot;Build.sh&quot; seems to work but I still get some error: 

Downloading sc.fiji:javac:2.0.0-SNAPSHOT
C:\Program Files (x86)\fiji\Build.sh: line 192: stat: command not found
Downloading net.imagej:ij-minimaven:2.0.0-beta-7
C:\Program Files (x86)\fiji\Build.sh: eval: line 349: syntax error near unexpect
ed token `('
C:\Program Files (x86)\fiji\Build.sh: eval: line 349: `sh /c/Program Files (x86)
/fiji/bin/ImageJ.sh --mini-maven -Dimagej.app.directory=&quot;/c/Program Files (x86)/
fiji&quot; install'
C:\Program Files (x86)\fiji\Build.sh: line 307: cd: /c/Program: No such file or
directory</pre>
    </div><div id="c15" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c15">Comment 15</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 12:28:59 CDT
        </span>
      </div>



<pre class="bz_comment_text" >You left a space between &quot;.&quot; and &quot;/Build.sh&quot;, but I suggested &quot;./Build.sh&quot; without a space.

The other errors come from the fact that I never tested with Git for Windows itself, but with the SDK for Git for Windows (because I co-maintain that project).

Will find some time later today to test and fix the issues.</pre>
    </div><div id="c16" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c16">Comment 16</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 12:38:01 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I double checked and there was no space. 
It would be great if I can finally compile fiji. Thank you.

The other reason I cannot accomplish it on the cluster could be that I run out of space allocated for my directory.</pre>
    </div><div id="c17" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c17">Comment 17</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 16:32:15 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="../attach/107/screenshot-build-windows.png" name="attach_107" title="Screenshot building on Windows">attachment 107</a></span>
Screenshot building on Windows</pre>
    </div><div id="c18" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c18">Comment 18</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 16:35:28 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I added a fix to fiji.git: <a href="https://github.com/fiji/fiji/commit/e21dac71">https://github.com/fiji/fiji/commit/e21dac71</a> and to scijava-common.git: <a href="https://github.com/scijava/scijava-common/commit/2ae35fe3">https://github.com/scijava/scijava-common/commit/2ae35fe3</a> for the Git for Windows issue.

As to the space: this is how &quot;./Build.sh&quot; is supposed to look like in Git Bash (see the attachment <a href="http://fiji.sc/bugzilla/../attach/107/screenshot-build-windows.png">http://fiji.sc/bugzilla/attachment.cgi?id=107</a>).

Furthermore, I just thought about something else: are you sure you want to build Fiji? There are pre-built packages available from <a href="http://fiji.sc/Downloads">http://fiji.sc/Downloads</a> (kept up-to-date by our continuous integration server).</pre>
    </div><div id="c19" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c19">Comment 19</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-08 21:29:09 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Thank you for all your help. I tried to run pre-built version for linux64, but all I could find there is ImajeJ-linux64 in the Fiji.app folder.

The reason I would like to build Fiji myself is because I would like to run it in the headless mode since cluster does not support any GUIs. Is there any other way to do this? 

When trying to compile fiji on Windows, I get this: 

Failure to download jars/ij-minimaven-.jar
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: imagej/build/MiniMave
n
Caused by: java.lang.ClassNotFoundException: imagej.build.MiniMaven
        at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
        at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
Could not find the main class: imagej.build.MiniMaven.  Program will exit.
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   589  100   589    0     0    619      0 --:--:-- --:--:-- --:--:--   619
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 16711  100 16711    0     0  19846      0 --:--:-- --:--:-- --:--:-- 19846
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  121k  100  121k    0     0   165k      0 --:--:-- --:--:-- --:--:--  165k</pre>
    </div><div id="c20" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c20">Comment 20</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 10:42:09 CDT
        </span>
      </div>



<pre class="bz_comment_text" >As Fiji is just ImageJ, ImageJ-linux64 *is* the launcher with which to start Fiji on your cluster.

As to the build failure, this is a bug I introduced inadvertently yesterday; it worked here, so I pushed, and Jenkins agreed that it worked. But the daily (full-fledged build-everything-from-scratch) job agrees with you that there is still a problem. I'm on it, will keep you posted.</pre>
    </div><div id="c21" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c21">Comment 21</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 10:51:17 CDT
        </span>
      </div>



<pre class="bz_comment_text" >The Fiji-daily build is happy again, see: <a href="http://jenkins.imagej.net/job/Fiji-daily/">http://jenkins.imagej.net/job/Fiji-daily/</a>. Maybe the build works for you now?

But again, the downloadable Fiji package is most likely what you want and need.</pre>
    </div><div id="c22" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c22">Comment 22</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 11:09:15 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I tried to start ImajeJ-linux64 on the cluster by typing into command line: &quot;ImajeJ-linux64&quot;, but it says: 
&quot;-bash: ImajeJ-linux64: command not found&quot; 
Am I launching it right? 

The cluster does not support GUI, and I would like to use fiji in the headless mode.</pre>
    </div><div id="c23" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c23">Comment 23</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 11:53:37 CDT
        </span>
      </div>



<pre class="bz_comment_text" >If you substitute the lower-case 'j' by a lower-case 'g', it might work: ImageJ-linux64 instead of ImajeJ-linux64. Computers are really finicky.

As to headless support: yes, it is there: --headless. However, it also activates this automatically when the DISPLAY environment variable is not set (on Linux only). Note that ImageJ-linux64 will not run on Windows... ;-)</pre>
    </div><div id="c24" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c24">Comment 24</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 14:21:55 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I had to put ./ in front of ImageJ-linix64. When I type:

./ImageJ-linux64 --headless -eval &quot;print ('Hello World');&quot;

I get an error: 

Error while executing the main() method of class 'fiji.Main';
java.awt.HeadlessException

Does the launcher support headless mode automatically? Do I need to load headless.jar manually?  

Thank you.</pre>
    </div><div id="c25" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c25">Comment 25</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 14:46:55 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Oh, I forgot: you also need to pass ''-batch'' so that ImageJ does not try to show a GUI.

./ImageJ-linux64 --headless -eval &quot;print ('Hello World');&quot; -batch

Would be nice if somebody could find the time to document this on <a href="http://fiji.sc/Headless">http://fiji.sc/Headless</a>, too...</pre>
    </div><div id="c26" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c26">Comment 26</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 14:57:15 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Actually, I just found another bug, but before that, I found another bug: if I do not pass --headless, I get a completely different stacktrace from yours:

On Tue, 9 Jul 2013, Olexandra Ovsiy wrote:

<span class="quote">&gt; Dear Johannes,
&gt; 
&gt; When I run ImageJ-linux64 launcher from the cluster, I still get an error:
&gt; 
&gt;  ./ImageJ-linux64 --headless -eval &quot;print ('Hello World');&quot;
&gt; Error while executing the main() method of class 'fiji.Main':
&gt; java.awt.HeadlessException
&gt;         at
&gt; java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)
&gt;         at java.awt.Window.&lt;init&gt;(Window.java:432)
&gt;         at java.awt.Frame.&lt;init&gt;(Frame.java:403)
&gt;         at ij.ImageJ.&lt;init&gt;(ImageJ.java:137)
&gt;         at ij.ImageJ.main(ImageJ.java:670)
&gt;         at fiji.Main.main(Main.java:130)
&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&gt;         at
&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
&gt;         at
&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
&gt;         at java.lang.reflect.Method.invoke(Method.java:597)
&gt;         at imagej.ClassLauncher.launch(ClassLauncher.java:224)
&gt;         at imagej.ClassLauncher.run(ClassLauncher.java:161)
&gt;         at imagej.ClassLauncher.main(ClassLauncher.java:72)
&gt; 
&gt; Does the launcher support headless mode? Do I have to manually load
&gt; headless.jar?
&gt; 
&gt; Best,
&gt; Olex</span >

$ DISPLAY= ./ImageJ-linux64 -eval 'print(&quot;Hello world&quot;);'
Error while executing the main() method of class 'fiji.Main':
java.lang.InternalError: Can't connect to X11 window server using '' as the value of the DISPLAY variable.
	at sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)
	at sun.awt.X11GraphicsEnvironment.access$100(X11GraphicsEnvironment.java:52)
	at sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:155)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:131)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:68)
	at sun.awt.X11.XToolkit.&lt;clinit&gt;(XToolkit.java:89)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at java.awt.Toolkit$2.run(Toolkit.java:834)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.Toolkit.getDefaultToolkit(Toolkit.java:826)
	at fiji.gui.FileDialogDecorator.registerAutomaticDecorator(FileDialogDecorator.java:142)
	at fiji.Main.premain(Main.java:87)
	at fiji.Main.main(Main.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at imagej.ClassLauncher.launch(ClassLauncher.java:224)
	at imagej.ClassLauncher.run(ClassLauncher.java:161)
	at imagej.ClassLauncher.main(ClassLauncher.java:72)

Will have to postpone that for a couple of hours, but then fix it and keep you posted!</pre>
    </div><div id="c27" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c27">Comment 27</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 15:22:08 CDT
        </span>
      </div>



<pre class="bz_comment_text" >After discussion with Johannes, I pushed a branch intended to ensure &quot;-batch&quot; always gets passed whenever &quot;--headless&quot; is given. It is at:

<a href="https://github.com/imagej/imagej-launcher/compare/headless-batch">https://github.com/imagej/imagej-launcher/compare/headless-batch</a>

Unfortunately, we forgot that &quot;-batch&quot; requires a macro file as additional argument. It seems that ImageJ1 only disables the GUI when -batch is given, and since -batch requires you to pass a macro file, you cannot do this sort of &quot;headless expression evaluation&quot; as things stand. ImageJ1 would need to be enhanced to support disabling the GUI in some other circumstance.

Johannes, what do you think is the best way forward here?</pre>
    </div><div id="c28" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c28">Comment 28</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 15:24:50 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Well, on second thought, I guess we could hack it to always put &quot;-batch&quot; as the final argument, and only if &quot;-batch&quot; isn't *already* the final argument. This works because ImageJ1 *does* support &quot;-batch&quot; without a macro filename as long as &quot;-batch&quot; is the final argument. That seems very hacky to me, though. Would be better if the &quot;-batch&quot; argument made the filename optional, such that if the subsequent argument also starts with &quot;-&quot; then it is not treated as a macro file.</pre>
    </div><div id="c29" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c29">Comment 29</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 16:03:27 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I fixed the headless-batch branch (linked above) to append -batch only as the final argument to ImageJ, and only if it was not already specified. So we're getting closer now. But I did not investigate the Linux DISPLAY variable stuff. Dscho, I hand off to you, hopefully having saved you a little time.</pre>
    </div><div id="c30" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c30">Comment 30</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-09 22:35:59 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Wow, we really went through quite a couple of issues, ending up in 'better headless support by the launcher' (when the subject is still 'cannot build fiji on linux').

In any case, I merged the branch with minimal changes (I want to be C89-compliant for ease of compilation with non-GNU C compilers -- such as TinyCC -- so we cannot have declarations after statements, besides, we do not need two variables to record whether -batch was seen and whether we need to add it, still).

For some reason, Trac shows me as author, even if I am just the committer... oh, well.

Olex, if you want to test, feel free to download <a href="http://jenkins.imagej.net/job/ImageJ-launcher/label=master/lastSuccessfulBuild/artifact/target/nar/ij-launcher-2.0.1-SNAPSHOT-amd64-Linux-gcc-executable/bin/amd64-Linux-gcc/ij-launcher">http://jenkins.imagej.net/job/ImageJ-launcher/label=master/lastSuccessfulBuild/artifact/target/nar/ij-launcher-2.0.1-SNAPSHOT-amd64-Linux-gcc-executable/bin/amd64-Linux-gcc/ij-launcher</a> and replace ImageJ-linux64 with it. That should address your problems.</pre>
    </div><div id="c31" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c31">Comment 31</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-10 09:12:25 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Thank you all for all your help! 

Apparently, I was able to build fiji despite the error that I was getting (that it could not unzip file). In addition, Build.sh builds ImageJ-linux64 launcher which works as well. 

I was able to test both with the commands: 
./fiji --headless -eval &quot;print ('HEllo World');&quot; -batch

I am working on small script to test batch. I assume the input would be: 

./fiji --headless &quot;macrosExample.ijm&quot; -batch

since -batch has to be the final argument.</pre>
    </div><div id="c32" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c32">Comment 32</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-10 09:48:26 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Oh, sorry, no, -batch does not *have* to be the last argument. Having it be the last argument is only a work-around for the limitation that you cannot specify to *evaluate* a statement in batch mode otherwise.

See <a href="https://github.com/fiji/ImageJA/blob/master/src/main/java/ij/ImageJ.java#L47">https://github.com/fiji/ImageJA/blob/master/src/main/java/ij/ImageJ.java#L47</a> for the correct syntax.

If you call Fiji with '-batch &lt;file&gt; &lt;arg&gt;' it will work. In that case, &lt;file&gt; needs to be a path to a file containing a macro that can enquire the argument via <a href="http://imagej.net/developer/macro/functions.html#getArgument">http://imagej.net/developer/macro/functions.html#getArgument</a>. The &lt;arg&gt; is actually optional, you do not *have* to specify it.

If, however, you want to evaluate *statements* (rather than a macro stored into a file), you have to call Fiji with '-eval &lt;statement&gt;'. And that does not switch on batch mode without a trailing '-batch' which in turn leads to the HeadlessExceptions you reported.

Things clearer now?</pre>
    </div><div id="c33" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c33">Comment 33</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Olex</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-10 10:04:11 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Thank you.  It seems that I am all set.</pre>
    </div><div id="c34" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c34">Comment 34</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2013-07-10 11:44:20 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Cool!</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
