<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 1033 &ndash; Issue with opening 14 bit images</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Plugins bz_bug_1033 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;1033</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Issue with opening 14 bit images</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2015-04-23 15:20:12 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="1033.html"><b>Bug&nbsp;1033</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">Issue with opening 14 bit images</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>Issue with opening 14 bit images
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Plugins</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P4
       normal
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">ImageJ Bugs Mailing List</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2015-03-23 10:17 CDT by <span class="vcard"><span class="fn">Ann Wheeler</span>
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2015-04-23 15:20 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>5 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="ann.wheeler">ann.wheeler</option>
                <option value="ctrueden">ctrueden</option>
                <option value="hinerm">hinerm</option>
                <option value="jan.eglinger">jan.eglinger</option>
                <option value="wsr">wsr</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    



  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ann Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 10:17:54 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Pretty much all of the images we acquire are 14 bit. However Fiji is opening them as 16 bit unsigned images and autoscaling. The issue is when we are quantifying it is automatically rescaling the images. Seems like Fiji thinks it is very helpful if it re- autoscales the image we just unscaled. 

The workaround is frustrating, in the Brightness and Contrast - Set display range I would like to have an option in the Unsigned 16 bit option for 14 bit images. There appear to be 8, 12, 15 and 16 bit options here but not 14 bit and all of our Coolsnap HQ2's and our Andor xIon EMCCD cameras acquire in the 14 bit range (For the EMCCD cameras this is to do with how NIS handles them). What I have to do is select 16 bit unsigned and then in the 'set option' enter the 14 bit range. EVERY TIME!!! Since I manage a facility of 200 users I'm sure the reader can imagine how popular this is. If this pretty simple tweak could be supported I would be most grateful.

Information about your version of Java:

  os.arch =&gt; amd64
  os.name =&gt; Windows 7
  os.version =&gt; 6.1
  java.version =&gt; 1.6.0_24
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_24-b07
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 19.1-b02
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \

The up-to-date check says: REMIND_LATER

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: \\Mvm-igmm-h213\z$\FIJI-W~1\FIJI-W~1\Fiji.app/java/win64/jdk1.6.0_24//jre
  imagej.dir =&gt; \\Mvm-igmm-h213\z$\FIJI-W~1\FIJI-W~1\Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <a href="http://update.imagej.net/">http://update.imagej.net/</a> (last check:20150319171059)
Fiji: <a href="http://fiji.sc/update/">http://fiji.sc/update/</a> (last check:20150319202456)
Cookbook: <a href="http://sites.imagej.net/Cookbook/">http://sites.imagej.net/Cookbook/</a> (last check:20150302220629)

Files not up-to-date:
  c3f8675e (OBSOLETE_UNINSTALLED) 20141216163551 jars/Jama.jar
  b6bf3817 (OBSOLETE_UNINSTALLED) 20141216163611 jars/edu_mines_jtk.jar
  986cfcf5 (OBSOLETE_UNINSTALLED) 20141216163621 jars/imglib2-algorithms-2.0.0-beta-26.jar
  ce6460d3 (OBSOLETE_UNINSTALLED) 20141216163621 jars/imglib2-algorithms-gpl-2.0.0-beta-26.jar
  673fae25 (OBSOLETE_UNINSTALLED) 20141216163621 jars/imglib2-algorithms-legacy-2.0.0-beta-26.jar
  51eadb2a (OBSOLETE_UNINSTALLED) 20141216163621 jars/imglib2-meta-2.0.0-beta-26.jar
  25895ad6 (OBSOLETE_UNINSTALLED) 20141216163622 jars/imglib2-ops-2.0.0-beta-26.jar
  8c636e50 (OBSOLETE_UNINSTALLED) 20141216163624 jars/jai_codec.jar
  717dd8e0 (OBSOLETE_UNINSTALLED) 20141216163625 jars/jai_core.jar
  1ad3be0d (LOCAL_ONLY) 20141216163637 jars/jpedalSTD.jar
  f416387c (LOCAL_ONLY) 20150223132413 plugins/SIMcheck-0.9.5.jar</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Jan Eglinger</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 10:27:46 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Ann,

as a workaround, you can use a one-line macro to prevent you from manually typing the numbers:

  setMinAndMax(0, 16384);

See also the macro functions documentation:
<a href="http://rsbweb.nih.gov/ij/developer/macro/functions.html#setMinAndMax">http://rsbweb.nih.gov/ij/developer/macro/functions.html#setMinAndMax</a>

Hope that helps,
Jan</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ann Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 10:35:05 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Dear Jan

Thanks for the quick response

End users don’t like macro languages in Cell biology imaging facilities. This isn’t a problem I personally have, it is a problem 200 of my end users have that I am raising on their behalf. 

Really we would like the 14 bit option implemented in the dropdown menu for 16 bit unsigned tiffs. Since I’m aware of several facilities worldwide which use Coolsnap HQ2 and other cameras that acquire in 14 bit I’m not sure why this isn’t implemented in the GUI. Particularly as 15 bit, which is a workaround for fixed pattern noise of Flash4 sCMOS cameras, is.

Regards

Ann
Dr Ann Wheeler
Head of Advanced Imaging Resource 
MRC Institute of Genetics and Molecular Medicine
University of Edinburgh
Western General Hospital
Crewe Road
Edinburgh EH4 2XU
E: <a href="mailto:ann.wheeler&#64;igmm.ed.ac.uk">ann.wheeler&#64;igmm.ed.ac.uk</a>
T: 0131 4678425
W: www.igmm.ac.uk</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Hiner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 11:48:23 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Ann,

 If you're comfortable with macros, you may want to incorporate Jan's workaround into a plugin that you could then distribute[1] to your users. This could also be helpful if there are additional pre-processing steps that should always be taken when opening this data, and would allow you to shield your users from writing macro code on their own.

 Also, are you opening your data with File &gt; Open? If you run &quot;Edit &gt; Options &gt; ImageJ2&quot; and check or un-check those boxes is there any difference in how your datasets open?

 Finally, if you use the Bio-Formats importer (File &gt; Open &gt; Bio-Formats) with the &quot;Autoscale&quot; box unchecked, does your data still need to be scaled?

Thanks,
Mark


[1] <a href="http://imagej.net/Distribution">http://imagej.net/Distribution</a></pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wayne Rasband</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 12:08:21 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Here is a way to permanently set the range to 14-bits:

  1. Open the Edit&gt;Options&gt;Startup dialog.
  2. Select &quot;12-bit (0-4095) range&quot; from the drop down menu.
  3. Change &quot;12&quot; to &quot;14&quot; in the code that was added to the text box.
  4. Click &quot;OK&quot;</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ann Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 12:31:50 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi

Thanks everyone so such a prompt response. I think we have a new research group converted to quantitative image analysis at the IGMM!

Its great to have easy to use workarounds for newbies. The adjustment of startup code and bioformats import can be used on any computer too, whereas the macro I would more likely put on the 6 image analysis computers.

BTW if you know of anyone looking for an image informaticist job we're hiring.

<span class="quote">&gt;&gt;&gt; Dr Ann Wheeler
&gt;&gt;&gt; Head of Advanced Imaging Resource
&gt;&gt;&gt; MRC Institute of Genetics and Molecular Medicine University of 
&gt;&gt;&gt; Edinburgh Western General Hospital Crewe Road Edinburgh EH4 2XU
&gt;&gt;&gt; E: <a href="mailto:ann.wheeler&#64;igmm.ed.ac.uk">ann.wheeler&#64;igmm.ed.ac.uk</a>
&gt;&gt;&gt; T: 0131 4678425
&gt;&gt;&gt; W: www.igmm.ac.uk</span ></pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Wayne Rasband</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-23 23:29:58 CDT
        </span>
      </div>



<pre class="bz_comment_text" >It turns out that my proposed method for setting the display range to 14-bits by adding &quot;call(&quot;ij.ImagePlus.setDefault16bitRange&quot;,14)&quot; to the Edit&gt;Options&gt;Startup dialog did not work. For it to work, you will need to upgrade to the latest ImageJ daily build, which you can do by using the Help&gt;Update ImageJ command and selecting &quot;daily build&quot; from the drop down menu. The daily build also fixes a bug the caused &quot;14-bit (0-16383)&quot; to be missing from the &quot;16-bit range&quot; drop down menus in Edit&gt;Options&gt;Appearance and in the &quot;Set&quot; dialog of the &quot;B&amp;C&quot; window.</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ann Wheeler</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2015-03-24 05:55:46 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Wayne

Many thanks for fixing the bug in the daily build so quickly, it works really well and the IGMM users I'm sure will be very pleased.

Ann</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
