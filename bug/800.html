<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 800 &ndash; FIJI 1.49b - problem with open/ drag-drop option</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_ASSIGNED bz_product_ImageJ bz_component_SCIFIO bz_bug_800 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;800</p>
    </td>

    <td id="subtitle">
      <p class="subheader">FIJI 1.49b - problem with open/ drag-drop option</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2015-04-06 15:49:24 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="800.html"><b>Bug&nbsp;800</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">FIJI 1.49b - problem with open/ drag-drop option</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>FIJI 1.49b - problem with open/ drag-drop option
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">ASSIGNED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >ImageJ</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >SCIFIO</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P4
       normal
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2014-06-19 09:37 CDT by <span class="vcard">h.sasnowosielska
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2015-04-06 15:49 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>4 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="ctrueden">ctrueden</option>
                <option value="h.sasnowosielska">h.sasnowosielska</option>
                <option value="ilan.tal">ilan.tal</option>
                <option value="imagej-bugs">imagej-bugs</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    


<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr id="a0">
    <th colspan="2" align="left">
      Attachments
    </th>
  </tr>


      <tr id="a1" class="bz_contenttype_image_tiff">
        <td valign="top">
            <a href="../attach/166/06062014_pcnamCh-hp1egfp_FRAP_1RF.tif"
               title="View the content of the attachment">
          <b>I attach two images: before and after binarysation. The problem with OPEN vs DRAG/DROP option was with binary image</b></a>

          <span class="bz_attach_extra_info">
              (16.79 KB,
                image/tiff)

            <br>
            <a href="#attach_166"
               title="Go to the comment associated with the attachment">2014-06-19 09:43 CDT</a>,

            <span class="vcard">h.sasnowosielska
</span>
          </span>
        </td>


        <td valign="top">
        </td>
      </tr>
      <tr id="a2" class="bz_contenttype_application_dicom">
        <td valign="top">
            <a href="../attach/173/osseux0000.dcm"
               title="View the content of the attachment">
          <b>ct slice</b></a>

          <span class="bz_attach_extra_info">
              (513.26 KB,
                application/dicom)

            <br>
            <a href="#attach_173"
               title="Go to the comment associated with the attachment">2014-07-07 04:40 CDT</a>,

            <span class="vcard"><span class="fn">Ilan Tal</span>
</span>
          </span>
        </td>


        <td valign="top">
        </td>
      </tr>

  </table>
<br>

  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">h.sasnowosielska
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-19 09:37:19 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I generated binary images ( tiff format) using ImageJ 1.48e. When I tried to open them in FIJI 1.49b with &quot;standard&quot; File&gt;Open procedure it did not read the images properly (the location of black and white pixels was perturbed and their values were changed from 0-1 to 254-255). Strangely, when I opened the same images by dragging them from the file folder and dropping them to FIJI window they opened correctly.

Information about your version of Java:

  os.arch =&gt; amd64
  os.name =&gt; Windows 7
  os.version =&gt; 6.1
  java.version =&gt; 1.6.0_24
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_24-b07
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 19.1-b02
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \

The up-to-date check says: REMIND_LATER

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: C:\Users\Hania\Desktop\FIJI-W~1\Fiji.app/java/win64/jdk1.6.0_24//jre
  imagej.dir =&gt; C:\Users\Hania\Desktop\FIJI-W~1\Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <a href="http://update.imagej.net/">http://update.imagej.net/</a> (last check:20140618215931)
Fiji: <a href="http://fiji.sc/update/">http://fiji.sc/update/</a> (last check:20140618220039)

Files not up-to-date:
  7ecaf631 (OBSOLETE_UNINSTALLED) 20140313092833 jars/jruby-complete-1.7.11.jar
  24d47d70 (OBSOLETE_UNINSTALLED) 20140313092833 jars/junit-4.8.1.jar
  fd2869f6 (LOCAL_ONLY) 20140619153401 macros/1906_RepFactorSegment-def.ijm
  8e7f9574 (LOCAL_ONLY) 20140617161108 macros/PCNA_calc.ijm
  907588c7 (LOCAL_ONLY) 20140618112535 macros/RepFactorSegment-def.ijm
  75095a77 (LOCAL_ONLY) 20140617143609 macros/RepFactorSegment.ijm
  37955112 (LOCAL_ONLY) 20140507171407 plugins/FRAP_Analysis.class
  7709e1f1 (LOCAL_ONLY) 20121031134702 plugins/FRAP_profiler/FRAP_Profiler.class
  6d88799a (OBSOLETE_UNINSTALLED) 20140313092829 plugins/Script_Editor-2.0.0-SNAPSHOT.jar</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">h.sasnowosielska
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-19 09:43:20 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="../attach/166/06062014_pcnamCh-hp1egfp_FRAP_1RF.tif" name="attach_166" title="I attach two images: before and after binarysation. The problem with OPEN vs DRAG/DROP option was with binary image">attachment 166</a></span>
I attach two images: before and after binarysation. The problem with OPEN vs DRAG/DROP option was with binary image</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-20 23:48:03 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Thanks for reporting this problem. It is a bug in the SCIFIO library, which is now enabled by default in Fiji. You can avoid the issue by disabling SCIFIO: Edit &gt; Options &gt; ImageJ2 and unchecking the &quot;Use SCIFIO when opening files&quot; option.

The problem also occurs with Bio-Formats (i.e.: File &gt; Import &gt; Bio-Formats).

In the meantime, we will investigate how best to address the issue. I am guessing it is relating to the fact that there is an inverting LUT (the inverted values of 0-1 are 254-255).</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Curtis Rueden</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-23 15:30:27 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Assigning this bug to myself. I'll try to tackle it before the end of the week.</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ilan Tal</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-07-07 04:38:32 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Hi Curtis,
I discovered that the drag and drop doesn't work for essentially any image I have. I'll attach a single slice of a CT series as an example. I can open the whole series with my Read from CD plugin so I'm sure the data is OK.
Since I can remember it has always been possible to drag and drop to the Fiji status bar and now this is broken as well. No error is given, just no image opens up.
For completeness I tried a File -&gt; Open and get some errors:
(Fiji Is Just) ImageJ 2.0.0-rc-8/1.49c; Java 1.6.0_24 [32-bit]; Linux 3.13.0-30-generic; 9MB of 1176MB (&lt;1%)
 
java.lang.NullPointerException
	at io.scif.formats.DICOMFormat$Parser.addFileToList(DICOMFormat.java:1649)
	at io.scif.formats.DICOMFormat$Parser.scanDirectory(DICOMFormat.java:1574)
	at io.scif.formats.DICOMFormat$Parser.makeFileList(DICOMFormat.java:1485)
	at io.scif.formats.DICOMFormat$Parser.typedParse(DICOMFormat.java:1432)
	at io.scif.formats.DICOMFormat$Parser.typedParse(DICOMFormat.java:1106)
	at io.scif.AbstractParser.parse(AbstractParser.java:252)
	at io.scif.AbstractParser.parse(AbstractParser.java:335)
	at io.scif.AbstractParser.parse(AbstractParser.java:52)
	at io.scif.AbstractReader.setSource(AbstractReader.java:270)
	at io.scif.services.DefaultInitializeService.initializeReader(DefaultInitializeService.java:90)
	at io.scif.img.ImgOpener.createReader(ImgOpener.java:542)
	at io.scif.img.ImgOpener.openImgs(ImgOpener.java:144)
	at net.imagej.DefaultDatasetService.open(DefaultDatasetService.java:266)
	at net.imagej.DefaultDatasetService.open(DefaultDatasetService.java:250)
	at net.imagej.io.DatasetIOPlugin.open(DatasetIOPlugin.java:78)
	at net.imagej.io.DatasetIOPlugin.open(DatasetIOPlugin.java:50)
	at net.imagej.legacy.plugin.DefaultLegacyOpener.open(DefaultLegacyOpener.java:135)
	at net.imagej.legacy.DefaultLegacyHooks.interceptFileOpen(DefaultLegacyHooks.java:420)
	at net.imagej.legacy.DefaultLegacyHooks.interceptRunPlugIn(DefaultLegacyHooks.java:153)
	at ij.IJ.runPlugIn(IJ.java)
	at ij.Executer.runCommand(Executer.java:131)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)

My Read from CD calls IJ.opener and that opens the series nicely. Just the drag and drop, which always used to work is apparently broken. The CT slice is called osseux0000.dcm.
Never a dull moment with the new software...

Regards,
Ilan</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Ilan Tal</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-07-07 04:40:22 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Created <span class=""><a href="../attach/173/osseux0000.dcm" name="attach_173" title="ct slice">attachment 173</a></span>
ct slice</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
