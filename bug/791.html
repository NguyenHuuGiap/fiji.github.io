<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>Bug 791 &ndash; .jpg open error</title>

      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">


<link rel="Top" href="">

  


  
    
      

      
      



    
    <link href="../css/global.css"
          rel="alternate stylesheet" 
          title="Classic"><link href="../css/global.css" rel="stylesheet"
        type="text/css" ><link href="../css/bug.css" rel="stylesheet"
        type="text/css" >

    <link href="../css/dusk.css" rel="stylesheet"
        type="text/css" title="Dusk">

    

    

    


    


    

    
    
    
  </head>



  <body onload=""
        class=" bz_bug bz_status_RESOLVED bz_product_Fiji bz_component_Plugins bz_bug_791 yui-skin-sam">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;791</p>
    </td>

    <td id="subtitle">
      <p class="subheader">.jpg open error</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2014-06-19 08:41:22 CDT</p>
    </td>
</tr>
</table>


</div> 

<div id="notice">
  <table>
    <tr>
      <td style="font-size: 72px; color: firebrick; padding: 0 10px 0 10px">&#9888;</td>
      <td>
        <p style="margin: 0.4em">
        NOTICE! This is a static HTML version of a legacy Fiji BugZilla bug.
        </p>
        <p style="margin: 0.4em">
        The Fiji project now
        <a href="https://imagej.net/Issues">uses GitHub Issues</a> for issue tracking.
        </p>
        <p style="margin: 0.4em">
        Please
        <a href="https://github.com/fiji/fiji/issues/new">file all new issues</a>
        there.
        </p>
      </td>
    </tr>
  </table>
</div>

<div id="bugzilla-body">


<div class="bz_alias_short_desc_container edit_form">
     <a href="791.html"><b>Bug&nbsp;791</b></a> -<span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">.jpg open error</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary"> 
        <tr>
            <td colspan="2">
          </td>
        </tr>
        
        <tr><th class="field_label "
    id="field_label_short_desc">

    <label for="short_desc" accesskey="s">

  <a 
      title="The bug summary is a short sentence which succinctly describes what the bug is about."
      class="field_help_link"
  >Summary:</a>
</label>
</th>
          <td>.jpg open error
          </td>
        </tr>
      </table>
    </div>
  </div>
  
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <th class="field_label">
      <a>Status</a>:
    </th>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          FIXED
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_product">


  <a 
      title="Bugs are categorised into Products and Components."
      class="field_help_link"
  >Product:</a>

</th>
  <td class="field_value "
      id="field_container_product" >Fiji</td>
    </tr>

    
    <tr class="bz_default_hidden"><th class="field_label "
    id="field_label_classification">


  <a 
      title="Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation."
      class="field_help_link"
  >Classification:</a>

</th>
  <td class="field_value "
      id="field_container_classification" >Unclassified</td>
    </tr>
        
    
    
    <tr><th class="field_label "
    id="field_label_component">


  <a 
      title="Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list."
      class="field_help_link"
  >Component:</a>

</th>
  <td class="field_value "
      id="field_container_component" >Plugins</td>
    </tr>
    <tr><th class="field_label "
    id="field_label_version">

    <label for="version">

  <a 
      title="The version field defines the version of the software the bug was found in."
      class="field_help_link"
  >Version:</a>
</label>
</th>
        <td>unspecified
  </td>
    </tr>
        
    
        
    <tr><th class="field_label "
    id="field_label_rep_platform">

    <label for="rep_platform" accesskey="h">

  <a 
      title="The hardware platform the bug was observed on. Note: When searching, selecting the option &quot;All&quot; only finds bugs whose value for this field is literally the word &quot;All&quot;."
      class="field_help_link"
  >Hardware:</a>
</label>
</th>
      <td class="field_value">PC
       Windows
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <th class="field_label">
        <label for="priority" accesskey="i">
          <a><u>I</u>mportance</a></label>:
      </th>
      <td>P4
       normal
      </td>
    </tr>            
          
          <tr>
      <th class="field_label">
        <a>Assigned To</a>:
      </th>
      <td><span class="vcard"><span class="fn">ImageJ Bugs Mailing List</span>
</span>
      </td>
    </tr>

    
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr><th class="field_label "
    id="field_label_bug_file_loc">

    <label for="bug_file_loc" accesskey="u">

  <a 
      title="Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen."
      class="field_help_link"
  >URL:</a>
</label>
</th>
    <td>
      <span id="bz_url_input_area">
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>

          
<tr><th class="field_label "
    id="field_label_dependson">


  <a 
      title="The bugs listed here must be resolved before this bug can be resolved."
      class="field_help_link"
  >Depends on:</a>

</th>

  <td>
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label "
    id="field_label_blocked">


  <a 
      title="This bug must be resolved before the bugs listed in this field can be resolved."
      class="field_help_link"
  >Blocks:</a>

</th>

  <td>
    <span id="blocked_input_area">
    </span>
    
  </td>
  </tr>
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <th class="field_label">
      Reported:
    </th>
    <td>2014-06-16 08:04 CDT by <span class="vcard">nantho2
</span>
    </td>
  </tr>
  
  <tr>
    <th class="field_label">
      Modified:
    </th>
    <td>2014-06-19 08:41 CDT 
    </td>
  
  </tr>
         <tr>
      <th class="field_label">
        <label for="newcc" accesskey="a">CC List:</label>
      </th>
      <td>3 
          users
          <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
            (<a href="#" id="cc_edit_area_showhide">show</a>)
          </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" multiple="multiple" size="5">
                <option value="hinerm">hinerm</option>
                <option value="johannes.schindelin">johannes.schindelin</option>
                <option value="nantho2">nantho2</option>
            </select>
        </div>
          
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
    id="field_label_see_also">


  <a 
      title="This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields."
      class="field_help_link"
  >See Also:</a>

</th>
  <td class="field_value "
      id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  <table id="bz_big_form_parts" cellspacing="0" cellpadding="0"><tr>
  <td>

    



  </td>
  <td>
  </td>
  </tr></table>

  
  <div id="comments">






<!-- This auto-sizes the comments and positions the collapse/expand links 
     to the right. -->
<table class="bz_comment_table" cellpadding="0" cellspacing="0"><tr>
<td>
<div id="c0" class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c0">Description</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nantho2
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-16 08:04:50 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Also, standard image files are not opening.  I recieved the following error for opening a jpg (drag and drop did nothing and I needed to go to Open in the menus):

(Fiji Is Just) ImageJ 2.0.0-rc-4/1.49b; Java 1.6.0_24 [64-bit]; Windows 7 6.1; 26MB of 6095MB (&lt;1%)
 
java.lang.NoClassDefFoundError: Could not initialize class loci.common.NIOByteBufferProvider
	at loci.common.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:129)
	at loci.common.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:138)
	at loci.common.NIOFileHandle.&lt;init&gt;(NIOFileHandle.java:147)
	at loci.common.Location.getHandle(Location.java:307)
	at loci.common.Location.getHandle(Location.java:278)
	at loci.common.Location.getHandle(Location.java:268)
	at loci.common.RandomAccessInputStream.&lt;init&gt;(RandomAccessInputStream.java:95)
	at loci.formats.FormatReader.isThisType(FormatReader.java:539)
	at loci.formats.ImageReader.isThisType(ImageReader.java:245)
	at io.scif.bf.BioFormatsFormat$Checker.isFormat(BioFormatsFormat.java:201)
	at io.scif.services.DefaultFormatService.getFormatList(DefaultFormatService.java:289)
	at io.scif.services.DefaultFormatService.getFormat(DefaultFormatService.java:271)
	at net.imagej.DefaultDatasetService.canOpen(DefaultDatasetService.java:215)
	at net.imagej.io.DatasetIOPlugin.supportsOpen(DatasetIOPlugin.java:66)
	at org.scijava.io.DefaultIOService.getOpener(DefaultIOService.java:66)
	at net.imagej.legacy.plugin.DefaultLegacyOpener.open(DefaultLegacyOpener.java:129)
	at net.imagej.legacy.DefaultLegacyHooks.interceptFileOpen(DefaultLegacyHooks.java:434)
	at net.imagej.legacy.DefaultLegacyHooks.interceptRunPlugIn(DefaultLegacyHooks.java:156)
	at ij.IJ.runPlugIn(IJ.java)
	at ij.Executer.runCommand(Executer.java:131)
	at ij.Executer.run(Executer.java:64)
	at java.lang.Thread.run(Thread.java:662)

Information about your version of Java:

  os.arch =&gt; amd64
  os.name =&gt; Windows 7
  os.version =&gt; 6.1
  java.version =&gt; 1.6.0_24
  java.vendor =&gt; Sun Microsystems Inc.
  java.runtime.name =&gt; Java(TM) SE Runtime Environment
  java.runtime.version =&gt; 1.6.0_24-b07
  java.vm.name =&gt; Java HotSpot(TM) 64-Bit Server VM
  java.vm.version =&gt; 19.1-b02
  java.vm.vendor =&gt; Sun Microsystems Inc.
  java.vm.info =&gt; mixed mode
  java.awt.graphicsenv =&gt; sun.awt.Win32GraphicsEnvironment
  java.specification.name =&gt; Java Platform API Specification
  java.specification.version =&gt; 1.6
  sun.cpu.endian =&gt; little
  sun.desktop =&gt; windows
  file.separator =&gt; \

The up-to-date check says: REMIND_LATER

Information relevant to JAVA_HOME related problems:

  JAVA_HOME is set to: C:\Users\NELLYP~1\Fiji\Fiji.app/java/win64/jdk1.6.0_24//jre
  imagej.dir =&gt; C:\Users\NELLYP~1\Fiji\Fiji.app

Information about the version of each plugin:

Activated update sites:
ImageJ: <a href="http://update.imagej.net/">http://update.imagej.net/</a> (last check:20140610174546)
Fiji: <a href="http://fiji.sc/update/">http://fiji.sc/update/</a> (last check:20140610180938)
MOSAIC ToolSuite: <a href="http://mosaic.mpi-cbg.de/Downloads/update/Fiji/MosaicToolsuite/">http://mosaic.mpi-cbg.de/Downloads/update/Fiji/MosaicToolsuite/</a> (last check:20131118044144)

Files not up-to-date:
  28dd47da (MODIFIED) 20140616085853 jars/imagej-common-0.7.3.jar
  e50da8f6 (MODIFIED) 20140616085853 jars/imagej-updater-0.3.7.jar
  af8c5783 (MODIFIED) 20140616085852 jars/scifio-0.15.1.jar
  86b72a38 (MODIFIED) 20140616085852 jars/scijava-common-2.23.0.jar
  2eca2c1e (LOCAL_ONLY) 20140521105355 macros/BatchMacro.ijm
  728a17e6 (LOCAL_ONLY) 20131122172305 macros/Macro.ijm
  cb9e3fee (LOCAL_ONLY) 20140512131332 plugins/Differentials_m_.jar
  0bbd60b1 (LOCAL_ONLY) 20140217105204 plugins/Intravital_Microscopy_Toolbox.ijm
  94ff9125 (LOCAL_ONLY) 20140305083011 plugins/Mosaic_ToolSuite.jar
  113d8ccc (LOCAL_ONLY) 20130815165830 plugins/PhiOverlay.jar
  68fa4608 (LOCAL_ONLY) 20130814125912 plugins/Radial_Profile.class
  100e7398 (LOCAL_ONLY) 20050928181804 plugins/SurfaceJ_.class
  276637c9 (LOCAL_ONLY) 20050928181804 plugins/VolumeJ_.class</pre>
    </div><div id="c1" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Hiner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-16 09:06:47 CDT
        </span>
      </div>



<pre class="bz_comment_text" >This looks like the same stack trace as <a href="http://fiji.sc/bugzilla/﷒0">http://fiji.sc/bugzilla/﷒0</a>﷓ and is not format-specific.

Please note that the Bio-Formats importer is a plugin and not part of the core ImageJ2 image I/O.

In this case, both the Bio-Formats Importer and File &gt; Open (or drag and drop) are failing because they are both using Bio-Formats. The Bio-Formats Importer uses it implicitly, and SCIFIO/ImageJ2 provide an I/O plugin that uses Bio-Formats for File &gt; Open and drag and drop.

So we are seeing a common exception likely because of the MOSAIC ToolSuite's conflict with Bio-Formats, which both I/O mechanisms are using.

Please go through the following steps and see if your problem is resolved:
1) Help &gt; Update Fiji to ensure your Fiji is up to date
2) Try opening your data again, with the MOSAIC ToolSuite update site still enabled.
3) If 2) fails, disable the MOSAIC ToolSuite
4) Attempt opening your data again.

Let us know how that goes.

Thanks,
Mark</pre>
    </div><div id="c2" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-17 17:21:31 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Neil, did you have a chance to follow Mark's instructions yet?</pre>
    </div><div id="c3" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nantho2
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-18 16:14:47 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I've gone back to the old version, and haven't had a chance to see if it still happens, but I'm a little confused, this is a bug opening a jpg...
The bug I submitted prior to this was for the bio format plugin, but when I couldn't open any image I submitted another.

Thanks
Neil</pre>
    </div><div id="c4" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-18 16:49:17 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Neil, I do not want to be pushy, but clarify that we are *really* working very hard on ImageJ2. I mean, really, really hard.

If you could help us by following Mark's simple instructions and helping us getting this bug fixed, great.

If you cannot spare those five minutes, then I am afraid I will have to close this ticket because we have way too much on our plates already, it is a little unfair to try to make us work even more. Besides, we simply cannot perform the feedback required for a successful bugfix. That really requires a *little* bit of effort also on the bug reporter's side.

So, what is it? Closing time or feedback time?</pre>
    </div><div id="c5" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Mark Hiner</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-18 17:52:12 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Neil,

 To clarify, you opened <a href="http://fiji.sc/bugzilla/﷒0">http://fiji.sc/bugzilla/﷒0</a>﷓. I closed it as a duplicate of <a href="http://fiji.sc/bugzilla/﷒1">http://fiji.sc/bugzilla/﷒1</a>﷓ - which was a conflict of Bio-Formats with the MOSAIC ToolSuite.

 I believe this bug is similarly a duplicate but left it open until you could confirm it.. it has nothing to do with being a .jpg. ImageJ2 uses SCIFIO for file input/output, which has a Bio-Formats plugin. So all open operations with SCIFIO enabled will at least trigger a format check with Bio-Formats, which as I said had a conflict with the MOSAIC ToolSuite.

 I do believe this was fixed by the MOSAIC developers, as we close #772, so the steps for you to try in my first message should still fix things for you.</pre>
    </div><div id="c6" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c6">Comment 6</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard">nantho2
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-18 21:16:53 CDT
        </span>
      </div>



<pre class="bz_comment_text" >I updated Fiji, and then clicked Manage update sites, and checked the MOSAIC ToolSuite (I assume this is what you meant by &quot;with the MOSAIC ToolSuite update site still enabled&quot;, but certainly didn't want to waste your time by asking), and applied that update.  The jpg now opened.  I uninstalled the MOSIC ToolSuite through the updates and tried again and it still worked.

Something along the lines fixed the issue.</pre>
    </div><div id="c7" class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a 
             href="#c7">Comment 7</a>
        </span>

        <span class="bz_comment_user">
          <span class="vcard"><span class="fn">Johannes Schindelin</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2014-06-19 08:41:22 CDT
        </span>
      </div>



<pre class="bz_comment_text" >Neil, thank you for taking the time to help us make Fiji/ImageJ2 better. The fix is most likely the same Mark referred to: the MOSAIC update site (which you identified correctly, of course) shipped an outdated version of a Bio-Formats component until recently. It was fixed only very recently, hence your issue. Happy it got resolved!</pre>
    </div>


  

</td>
<td>
</td>
</tr></table>
  </div>
        



</div>

</body>
</html>
